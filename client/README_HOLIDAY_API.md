# 공휴일 API 설정 가이드

이 캘린더 컴포넌트는 한국천문연구원의 특일정보 API를 사용하여 공휴일 정보를 표시합니다.

## API 키 발급

1. [공공데이터포털](https://www.data.go.kr/data/15012661/openapi.do)에 접속
2. "신청하기" 버튼 클릭
3. 로그인 후 API 키 발급 신청
4. 승인 후 발급받은 API 키를 복사

## 환경변수 설정

프로젝트 루트에 `.env.local` 파일을 생성하고 다음 내용을 추가하세요:

```bash
# 한국천문연구원 특일정보 API 키
NEXT_PUBLIC_HOLIDAY_API_KEY=your_api_key_here
```

**주의**: `NEXT_PUBLIC_` 접두사는 클라이언트 사이드에서 API 키에 접근하기 위해 필요합니다.

## 사용법

### 기본 사용법

```tsx
import { Calendar } from '@/components/calendar/calendar'

function App() {
  return (
    <Calendar
      events={events}
      onEventClick={handleEventClick}
      onDateClick={handleDateClick}
      showHolidays={true} // 공휴일 표시 (기본값: true)
    />
  )
}
```

### 공휴일 표시 비활성화

```tsx
<Calendar
  events={events}
  showHolidays={false} // 공휴일 표시 비활성화
/>
```

## 기능

- **자동 공휴일 로딩**: 연도가 변경될 때마다 해당 연도의 공휴일 정보를 자동으로 로드
- **캐싱**: API 호출을 최소화하기 위한 메모리 캐싱
- **시각적 구분**: 
  - 공휴일: 빨간색 배경과 테두리
  - 일요일: 연한 빨간색 배경
  - 토요일: 연한 파란색 배경
- **공휴일 이름 표시**: 월간 뷰에서 공휴일 이름을 작은 배지로 표시

## API 응답 형식

```json
{
  "response": {
    "body": {
      "items": {
        "item": [
          {
            "dateName": "신정",
            "date": "20250101",
            "isHoliday": "Y",
            "seq": 1
          }
        ]
      }
    }
  }
}
```

## 오류 처리

- API 키가 설정되지 않은 경우: 콘솔에 경고 메시지 출력, 공휴일 표시 안함
- API 호출 실패 시: 콘솔에 오류 메시지 출력, 공휴일 표시 안함
- 네트워크 오류 시: 자동 재시도 없음 (사용자가 페이지를 새로고침해야 함)

## 제한사항

- API 호출 제한: 공공데이터포털의 일일 호출 제한을 확인하세요
- 데이터 정확성: 공휴일 정보는 한국천문연구원에서 제공하는 공식 데이터입니다
- 실시간 업데이트: 공휴일 정보는 실시간으로 업데이트되지 않을 수 있습니다

## 문제 해결

### 공휴일이 표시되지 않는 경우

1. API 키가 올바르게 설정되었는지 확인
2. 브라우저 콘솔에서 오류 메시지 확인
3. 네트워크 탭에서 API 호출 상태 확인
4. API 키의 유효성 확인

### 성능 최적화

- 캐싱을 통해 불필요한 API 호출 방지
- 연도별로 데이터를 로드하여 메모리 사용량 최적화
- 컴포넌트 언마운트 시 캐시 정리

## 라이선스

이 컴포넌트는 MIT 라이선스 하에 배포됩니다. 공휴일 데이터는 한국천문연구원의 공공데이터를 사용합니다. 